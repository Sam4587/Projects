<!-- ç”¨æˆ·åé¦ˆå†å²ç»„ä»¶ -->
<view class="feedback-history-modal {{show ? 'show' : ''}}" catch:touchmove="preventTouchMove">
  <view class="feedback-history-mask" catch:tap="closeModal"></view>
  <view class="feedback-history-content">
    <!-- æ ‡é¢˜ -->
    <view class="history-header">
      <view class="header-icon">ğŸ“‹</view>
      <text class="history-title">æˆ‘çš„åé¦ˆ</text>
      <view class="history-stats">
        <view class="stat-item">
          <text class="stat-value">{{totalCount}}</text>
          <text class="stat-label">æ€»è®¡</text>
        </view>
        <view class="stat-divider"></view>
        <view class="stat-item">
          <text class="stat-value">{{successCount}}</text>
          <text class="stat-label">æˆåŠŸ</text>
        </view>
      </view>
    </view>
    
    <!-- åé¦ˆåˆ—è¡¨ -->
    <scroll-view class="feedback-list" scroll-y>
      <block wx:if="{{feedbackList.length > 0}}">
        <view wx:for="{{feedbackList}}" wx:key="id" class="feedback-item">
          <view class="item-header">
            <view class="item-type-badge {{item.type}}">
              <text class="badge-icon">{{getTypeIcon(item.type)}}</text>
              <text class="badge-text">{{getTypeLabel(item.type)}}</text>
            </view>
            <view class="item-status {{item.status}}">
              <text class="status-dot"></text>
              <text class="status-text">{{getStatusText(item.status)}}</text>
            </view>
          </view>
          <view class="item-content">
            <text class="item-text">{{item.content}}</text>
          </view>
          <view class="item-footer">
            <view class="item-rating">
              <text class="rating-stars">{{getStars(item.rating)}}</text>
            </view>
            <text class="item-time">{{formatTime(item.createTime)}}</text>
          </view>
        </view>
      </block>
      
      <!-- ç©ºçŠ¶æ€ -->
      <block wx:if="{{feedbackList.length === 0}}">
        <view class="empty-state">
          <text class="empty-icon">ğŸ“­</text>
          <text class="empty-title">è¿˜æ²¡æœ‰åé¦ˆè®°å½•</text>
          <text class="empty-desc">æ‚¨çš„ç¬¬ä¸€æ¡åé¦ˆå°†å‡ºç°åœ¨è¿™é‡Œ</text>
        </view>
      </block>
    </scroll-view>
    
    <!-- å…³é—­æŒ‰é’® -->
    <view class="history-close" catch:tap="closeModal">âœ“ å®Œæˆ</view>
  </view>
</view>
